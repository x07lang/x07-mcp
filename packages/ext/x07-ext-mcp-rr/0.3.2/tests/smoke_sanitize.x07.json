{"decls":[{"kind":"export","names":["smoke_sanitize.bearer_in_notifications_message_data","smoke_sanitize.cookie_in_audit_record","smoke_sanitize.new_token_type_causes_assertion_failure"]},{"body":["begin",["let","profile",["std.fs.read",["bytes.lit","profiles/sanitize_protocol_notifications_message_data_v1.json"]]],["let","input_jsonl",["std.fs.read",["bytes.lit","cases/bearer_notifications_message_data.input.jsonl"]]],["let","expected",["std.fs.read",["bytes.lit","cases/bearer_notifications_message_data.expected.jsonl"]]],["let","r",["std.mcp.rr.sanitize_profile.sanitize_jsonl_v1","profile","input_jsonl"]],["try",["std.test.assert_true",["result_bytes.is_ok","r"],["std.test.code_assert_true"]]],["let","got",["result_bytes.unwrap_or","r",["bytes.alloc",0]]],["try",["std.test.assert_bytes_eq","got","expected",["std.test.code_assert_bytes_eq"]]],["std.test.pass"]],"kind":"defn","name":"smoke_sanitize.bearer_in_notifications_message_data","params":[],"result":"result_i32"},{"body":["begin",["let","profile",["std.fs.read",["bytes.lit","profiles/sanitize_audit_record_v1.json"]]],["let","input_jsonl",["std.fs.read",["bytes.lit","cases/audit_cookie.input.jsonl"]]],["let","expected",["std.fs.read",["bytes.lit","cases/audit_cookie.expected.jsonl"]]],["let","r",["std.mcp.rr.sanitize_profile.sanitize_jsonl_v1","profile","input_jsonl"]],["try",["std.test.assert_true",["result_bytes.is_ok","r"],["std.test.code_assert_true"]]],["let","got",["result_bytes.unwrap_or","r",["bytes.alloc",0]]],["try",["std.test.assert_bytes_eq","got","expected",["std.test.code_assert_bytes_eq"]]],["std.test.pass"]],"kind":"defn","name":"smoke_sanitize.cookie_in_audit_record","params":[],"result":"result_i32"},{"body":["begin",["let","profile",["std.fs.read",["bytes.lit","profiles/sanitize_protocol_strict_test_v1.json"]]],["let","input_jsonl",["std.fs.read",["bytes.lit","cases/new_token_assertion_failure.input.jsonl"]]],["let","expected_err",["std.fs.read",["bytes.lit","cases/new_token_assertion_failure.expected_error.json"]]],["let","r",["std.mcp.rr.sanitize_profile.sanitize_jsonl_v1","profile","input_jsonl"]],["try",["std.test.assert_true",["=",["result_bytes.is_ok","r"],0],["std.test.code_assert_true"]]],["let","got_err",["std.mcp.rr.sanitize_profile.sanitize_err_report_json_v1","profile","input_jsonl"]],["try",["std.test.assert_bytes_eq","got_err","expected_err",["std.test.code_assert_bytes_eq"]]],["std.test.pass"]],"kind":"defn","name":"smoke_sanitize.new_token_type_causes_assertion_failure","params":[],"result":"result_i32"}],"imports":["std.fs","std.mcp.rr.sanitize_profile","std.test"],"kind":"module","module_id":"smoke_sanitize","schema_version":"x07.x07ast@0.3.0"}

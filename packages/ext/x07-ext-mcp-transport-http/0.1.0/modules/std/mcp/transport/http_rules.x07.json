{"decls":[{"kind":"export","names":["std.mcp.transport.http_rules.accept_valid_v1","std.mcp.transport.http_rules.origin_allowed_v1","std.mcp.transport.http_rules.protocol_valid_v1"]},{"body":["begin",["let","a1",["bytes.lit","application/json, text/event-stream"]],["let","a2",["bytes.lit","text/event-stream, application/json"]],["if",["=",["view.eq","accept_header",["bytes.view","a1"]],1],["return",1],0],["if",["=",["view.eq","accept_header",["bytes.view","a2"]],1],["return",1],0],0],"kind":"defn","name":"std.mcp.transport.http_rules.accept_valid_v1","params":[{"name":"accept_header","ty":"bytes_view"}],"result":"i32"},{"body":["begin",["if",["=",["view.len","origin"],0],["return","allow_missing"],0],["let","o1",["bytes.lit","http://localhost:3000"]],["let","o2",["bytes.lit","http://127.0.0.1:3000"]],["let","o3",["bytes.lit","https://mcp.example.com"]],["if",["=",["view.eq","origin",["bytes.view","o1"]],1],["return",1],0],["if",["=",["view.eq","origin",["bytes.view","o2"]],1],["return",1],0],["if",["=",["view.eq","origin",["bytes.view","o3"]],1],["return",1],0],0],"kind":"defn","name":"std.mcp.transport.http_rules.origin_allowed_v1","params":[{"name":"origin","ty":"bytes_view"},{"name":"allow_missing","ty":"i32"}],"result":"i32"},{"body":["begin",["let","want",["bytes.lit","2025-11-25"]],["if",["=",["view.eq","version_header",["bytes.view","want"]],1],1,0]],"kind":"defn","name":"std.mcp.transport.http_rules.protocol_valid_v1","params":[{"name":"version_header","ty":"bytes_view"}],"result":"i32"}],"imports":[],"kind":"module","module_id":"std.mcp.transport.http_rules","schema_version":"x07.x07ast@0.5.0"}

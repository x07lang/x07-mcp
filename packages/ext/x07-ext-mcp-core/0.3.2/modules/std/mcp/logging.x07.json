{"decls":[{"kind":"export","names":["std.mcp.logging.level_is_valid_v1","std.mcp.logging.level_max_v1","std.mcp.logging.level_severity_v1","std.mcp.logging.message_notification_build_v1","std.mcp.logging.set_level_params_validate_v1"]},{"body":["if",[">=",["std.mcp.logging.level_severity_v1","level_str"],0],1,0],"kind":"defn","name":"std.mcp.logging.level_is_valid_v1","params":[{"name":"level_str","ty":"bytes_view"}],"result":"i32"},{"body":["begin",["let","sa",["std.mcp.logging.level_severity_v1","a"]],["let","sb",["std.mcp.logging.level_severity_v1","b"]],["if",["&",["<","sa",0],["<","sb",0]],["bytes.alloc",0],["if",["<","sa",0],["view.to_bytes","b"],["if",["<","sb",0],["view.to_bytes","a"],["if",[">=","sa","sb"],["view.to_bytes","a"],["view.to_bytes","b"]]]]]],"kind":"defn","name":"std.mcp.logging.level_max_v1","params":[{"name":"a","ty":"bytes_view"},{"name":"b","ty":"bytes_view"}],"result":"bytes"},{"body":["begin",["let","v_debug",["bytes.lit","debug"]],["let","v_info",["bytes.lit","info"]],["let","v_notice",["bytes.lit","notice"]],["let","v_warning",["bytes.lit","warning"]],["let","v_error",["bytes.lit","error"]],["let","v_critical",["bytes.lit","critical"]],["let","v_alert",["bytes.lit","alert"]],["let","v_emergency",["bytes.lit","emergency"]],["if",["=",["bytes.eq","level_str",["bytes.view","v_debug"]],1],0,["if",["=",["bytes.eq","level_str",["bytes.view","v_info"]],1],1,["if",["=",["bytes.eq","level_str",["bytes.view","v_notice"]],1],2,["if",["=",["bytes.eq","level_str",["bytes.view","v_warning"]],1],3,["if",["=",["bytes.eq","level_str",["bytes.view","v_error"]],1],4,["if",["=",["bytes.eq","level_str",["bytes.view","v_critical"]],1],5,["if",["=",["bytes.eq","level_str",["bytes.view","v_alert"]],1],6,["if",["=",["bytes.eq","level_str",["bytes.view","v_emergency"]],1],7,-1]]]]]]]]],"kind":"defn","name":"std.mcp.logging.level_severity_v1","params":[{"name":"level_str","ty":"bytes_view"}],"result":"i32"},{"body":["begin",["let","lit_prefix",["bytes.lit","{\"jsonrpc\":\"2.0\",\"method\":\"notifications/message\",\"params\":{\"data\":"]],["let","lit_level",["bytes.lit",",\"level\":\""]],["let","lit_logger",["bytes.lit",",\"logger\":\""]],["let","lit_quote",["bytes.lit","\""]],["let","lit_end",["bytes.lit","}}"]],["let","lit_null",["bytes.lit","null"]],["let","data_v",["if",[">",["view.len","data_json"],0],"data_json",["bytes.view","lit_null"]]],["let","logger_b",["option_bytes.unwrap_or","logger_opt",["bytes.alloc",0]]],["let","has_logger",[">",["bytes.len","logger_b"],0]],["let","cap",["+",96,["+",["view.len","data_v"],["+",["view.len","level_utf8"],["bytes.len","logger_b"]]]]],["let","buf",["vec_u8.with_capacity","cap"]],["set","buf",["vec_u8.extend_bytes","buf",["bytes.view","lit_prefix"]]],["set","buf",["vec_u8.extend_bytes","buf","data_v"]],["set","buf",["vec_u8.extend_bytes","buf",["bytes.view","lit_level"]]],["set","buf",["vec_u8.extend_bytes","buf","level_utf8"]],["set","buf",["vec_u8.extend_bytes","buf",["bytes.view","lit_quote"]]],["if",["=","has_logger",1],["begin",["set","buf",["vec_u8.extend_bytes","buf",["bytes.view","lit_logger"]]],["set","buf",["vec_u8.extend_bytes","buf","logger_b"]],["set","buf",["vec_u8.extend_bytes","buf",["bytes.view","lit_quote"]]],0],0],["set","buf",["vec_u8.extend_bytes","buf",["bytes.view","lit_end"]]],["vec_u8.into_bytes","buf"]],"kind":"defn","name":"std.mcp.logging.message_notification_build_v1","params":[{"name":"level_utf8","ty":"bytes_view"},{"name":"logger_opt","ty":"option_bytes"},{"name":"data_json","ty":"bytes_view"}],"result":"bytes"},{"body":["begin",["let","doc_b",["ext.json.data_model.parse","params_doc"]],["let","doc",["bytes.view","doc_b"]],["if",["=",["ext.data_model.doc_is_err","doc"],1],["return",["result_i32.err",-32602]],0],["if",["!=",["ext.data_model.root_kind","doc"],5],["return",["result_i32.err",-32602]],0],["let","root",["ext.data_model.root_offset","doc"]],["let","k_level",["bytes.lit","level"]],["let","level_off",["ext.data_model.map_find","doc","root",["bytes.view","k_level"]]],["if",["<","level_off",0],["return",["result_i32.err",-32602]],0],["if",["!=",["ext.data_model.kind_at","doc","level_off"],3],["return",["result_i32.err",-32602]],0],["let","level",["ext.data_model.string_get","doc","level_off"]],["if",["=",["std.mcp.logging.level_is_valid_v1",["bytes.view","level"]],1],["result_i32.ok",0],["result_i32.err",-32602]]],"kind":"defn","name":"std.mcp.logging.set_level_params_validate_v1","params":[{"name":"params_doc","ty":"bytes_view"}],"result":"result_i32"}],"imports":["ext.data_model","ext.json.data_model","std.bytes","std.codec","std.mcp.util.json"],"kind":"module","module_id":"std.mcp.logging","schema_version":"x07.x07ast@0.5.0"}

{"decls":[{"kind":"export","names":["std.mcp.toolkit.server_cfg_file.cap_tasks_requests_tools_call_v1","std.mcp.toolkit.server_cfg_file.load_server_cfg_from_fs_v1","std.mcp.toolkit.server_cfg_file.obs_audit_allow_tool_tags_json_v1","std.mcp.toolkit.server_cfg_file.obs_audit_emit_rr_sidecar_v1","std.mcp.toolkit.server_cfg_file.obs_audit_emit_stderr_jsonl_v1","std.mcp.toolkit.server_cfg_file.obs_audit_enabled_v1","std.mcp.toolkit.server_cfg_file.obs_clock_fixed_utc_utf8_v1","std.mcp.toolkit.server_cfg_file.obs_clock_mode_utf8_v1","std.mcp.toolkit.server_cfg_file.obs_logging_client_level_floor_utf8_v1","std.mcp.toolkit.server_cfg_file.obs_logging_declare_capability_v1","std.mcp.toolkit.server_cfg_file.obs_logging_default_client_level_utf8_v1","std.mcp.toolkit.server_cfg_file.obs_logging_emit_tool_finish_v1","std.mcp.toolkit.server_cfg_file.obs_logging_emit_tool_start_v1","std.mcp.toolkit.server_cfg_file.obs_logging_enabled_v1","std.mcp.toolkit.server_cfg_file.obs_logging_max_data_bytes_v1","std.mcp.toolkit.server_cfg_file.obs_logging_rate_limit_per_sec_v1","std.mcp.toolkit.server_cfg_file.obs_logging_redact_keys_json_v1","std.mcp.toolkit.server_cfg_file.obs_logging_redact_patterns_json_v1","std.mcp.toolkit.server_cfg_file.obs_logging_redacted_value_utf8_v1","std.mcp.toolkit.server_cfg_file.obs_metrics_enabled_v1","std.mcp.toolkit.server_cfg_file.obs_metrics_export_arch_exporter_id_utf8_v1","std.mcp.toolkit.server_cfg_file.obs_metrics_export_kind_utf8_v1","std.mcp.toolkit.server_cfg_file.obs_metrics_flush_interval_ms_v1","std.mcp.toolkit.server_cfg_file.router_cfg_from_fs_v1","std.mcp.toolkit.server_cfg_file.sandbox_per_tool_enabled_v1","std.mcp.toolkit.server_cfg_file.sandbox_per_tool_policy_path_v1","std.mcp.toolkit.server_cfg_file.server_name_v1","std.mcp.toolkit.server_cfg_file.server_protocol_version_v1","std.mcp.toolkit.server_cfg_file.server_version_v1","std.mcp.toolkit.server_cfg_file.tasks_clock_fixed_start_iso8601_v1","std.mcp.toolkit.server_cfg_file.tasks_clock_fixed_step_ms_v1","std.mcp.toolkit.server_cfg_file.tasks_clock_mode_v1","std.mcp.toolkit.server_cfg_file.tasks_defaults_poll_interval_ms_v1","std.mcp.toolkit.server_cfg_file.tasks_defaults_ttl_ms_v1","std.mcp.toolkit.server_cfg_file.tasks_enabled_v1","std.mcp.toolkit.server_cfg_file.tasks_executor_det_advance_on_json_v1","std.mcp.toolkit.server_cfg_file.tasks_executor_det_complete_after_ticks_v1","std.mcp.toolkit.server_cfg_file.tasks_executor_mode_v1","std.mcp.toolkit.server_cfg_file.tasks_id_det_prefix_v1","std.mcp.toolkit.server_cfg_file.tasks_id_det_start_v1","std.mcp.toolkit.server_cfg_file.tasks_id_mode_v1","std.mcp.toolkit.server_cfg_file.tasks_notif_status_enabled_v1","std.mcp.toolkit.server_cfg_file.tasks_retention_max_tasks_v1","std.mcp.toolkit.server_cfg_file.tasks_store_mode_v1","std.mcp.toolkit.server_cfg_file.tasks_store_sqlite_path_v1","std.mcp.toolkit.server_cfg_file.tools_descriptor_path_v1","std.mcp.toolkit.server_cfg_file.transport_http_bind_v1","std.mcp.toolkit.server_cfg_file.transport_http_enabled_v1","std.mcp.toolkit.server_cfg_file.transport_http_path_v1","std.mcp.toolkit.server_cfg_file.transport_http_sse_enabled_v1","std.mcp.toolkit.server_cfg_file.transport_http_sse_max_connections_v1","std.mcp.toolkit.server_cfg_file.worker_exe_path_v1"]},{"body":["begin",["let","canon",["ext.json.canon.canonicalize","json"]],["if",["=",["bytes.len","canon"],0],["return",["result_bytes.err",["std.mcp.toolkit.server_cfg_file._err_invalid_server_cfg_v1"]]],0],["let","doc_b",["ext.json.data_model.parse","canon"]],["let","doc",["bytes.view","doc_b"]],["if",["=",["ext.data_model.doc_is_err","doc"],1],["return",["result_bytes.err",["std.mcp.toolkit.server_cfg_file._err_invalid_server_cfg_v1"]]],0],["if",["!=",["ext.data_model.root_kind","doc"],5],["return",["result_bytes.err",["std.mcp.toolkit.server_cfg_file._err_invalid_server_cfg_v1"]]],0],["let","root",["ext.data_model.root_offset","doc"]],["let","k_schema",["bytes.lit","schema_version"]],["let","schema_off",["ext.data_model.map_find","doc","root",["bytes.view","k_schema"]]],["if",["if",["<","schema_off",0],1,["!=",["ext.data_model.kind_at","doc","schema_off"],3]],["return",["result_bytes.err",["std.mcp.toolkit.server_cfg_file._err_invalid_server_cfg_v1"]]],0],["let","schema_ver",["ext.data_model.string_get","doc","schema_off"]],["let","want",["bytes.lit","x07.mcp.server_config@0.3.0"]],["if",["=",["bytes.eq",["bytes.view","schema_ver"],["bytes.view","want"]],0],["return",["result_bytes.err",["std.mcp.toolkit.server_cfg_file._err_invalid_server_cfg_v1"]]],0],["result_bytes.ok","canon"]],"kind":"defn","name":"std.mcp.toolkit.server_cfg_file._canon_and_doc_v1","params":[{"name":"json","ty":"bytes_view"}],"result":"result_bytes"},{"body":["begin",["let","doc_b",["ext.json.data_model.parse","cfg_json"]],["let","ok",["begin",["let","doc",["bytes.view","doc_b"]],["&",["=",["ext.data_model.doc_is_err","doc"],0],["=",["ext.data_model.root_kind","doc"],5]]]],["if",["=","ok",1],"doc_b",["begin",["let","cfg_pack_len",["view.len","cfg_json"]],["if",["<u","cfg_pack_len",12],["bytes.alloc",0],["begin",["let","ver",["codec.read_u32_le","cfg_json",0]],["if",["!=","ver",1],["bytes.alloc",0],["begin",["let","cfg_len",["codec.read_u32_le","cfg_json",4]],["if",["<","cfg_len",0],["bytes.alloc",0],["begin",["let","cfg_end",["+",8,"cfg_len"]],["if",["<u","cfg_pack_len","cfg_end"],["bytes.alloc",0],["begin",["let","cfg_view",["view.slice","cfg_json",8,"cfg_len"]],["let","doc_b2",["ext.json.data_model.parse","cfg_view"]],["let","ok2",["begin",["let","doc2",["bytes.view","doc_b2"]],["&",["=",["ext.data_model.doc_is_err","doc2"],0],["=",["ext.data_model.root_kind","doc2"],5]]]],["if",["=","ok2",1],"doc_b2",["bytes.alloc",0]]]]]]]]]]]]],"kind":"defn","name":"std.mcp.toolkit.server_cfg_file._doc_b_or_empty_v1","params":[{"name":"cfg_json","ty":"bytes_view"}],"result":"bytes"},{"body":7211,"kind":"defn","name":"std.mcp.toolkit.server_cfg_file._err_invalid_server_cfg_v1","params":[],"result":"i32"},{"body":["begin",["if",["<","map_off",0],["return","fallback"],0],["let","off",["ext.data_model.map_find","doc","map_off",["bytes.view","key"]]],["if",["<","off",0],["return","fallback"],0],["if",["!=",["ext.data_model.kind_at","doc","off"],1],["return","fallback"],0],["ext.data_model.bool_get","doc","off"]],"kind":"defn","name":"std.mcp.toolkit.server_cfg_file._map_bool_or_default_v1","params":[{"name":"doc","ty":"bytes_view"},{"name":"map_off","ty":"i32"},{"name":"key","ty":"bytes"},{"name":"fallback","ty":"i32"}],"result":"i32"},{"body":["begin",["if",["<","map_off",0],["return","fallback"],0],["let","off",["ext.data_model.map_find","doc","map_off",["bytes.view","key"]]],["if",["<","off",0],["return","fallback"],0],["if",["!=",["ext.data_model.kind_at","doc","off"],2],["return","fallback"],0],["let","num_b",["ext.data_model.number_get","doc","off"]],["let","num",["bytes.view","num_b"]],["if",["=",["bytes.len","num"],0],"fallback",["std.mcp.toolkit.server_cfg_file._parse_i32_or_0_v1","num"]]],"kind":"defn","name":"std.mcp.toolkit.server_cfg_file._map_i32_or_default_v1","params":[{"name":"doc","ty":"bytes_view"},{"name":"map_off","ty":"i32"},{"name":"key","ty":"bytes"},{"name":"fallback","ty":"i32"}],"result":"i32"},{"body":["begin",["if",["<","map_off",0],["return",["-",0,1]],0],["let","off",["ext.data_model.map_find","doc","map_off",["bytes.view","key"]]],["if",["if",["<","off",0],1,["!=",["ext.data_model.kind_at","doc","off"],5]],["-",0,1],"off"]],"kind":"defn","name":"std.mcp.toolkit.server_cfg_file._map_obj_off_v1","params":[{"name":"doc","ty":"bytes_view"},{"name":"map_off","ty":"i32"},{"name":"key","ty":"bytes"}],"result":"i32"},{"body":["begin",["if",["<","map_off",0],["return",["bytes.alloc",0]],0],["let","off",["ext.data_model.map_find","doc","map_off",["bytes.view","key"]]],["if",["if",["<","off",0],1,["!=",["ext.data_model.kind_at","doc","off"],3]],["return",["bytes.alloc",0]],0],["ext.data_model.string_get","doc","off"]],"kind":"defn","name":"std.mcp.toolkit.server_cfg_file._map_string_or_empty_v1","params":[{"name":"doc","ty":"bytes_view"},{"name":"map_off","ty":"i32"},{"name":"key","ty":"bytes"}],"result":"bytes"},{"body":["begin",["if",["<","map_off",0],["return",["bytes.alloc",0]],0],["let","off",["ext.data_model.map_find","doc","map_off",["bytes.view","key"]]],["if",["<","off",0],["return",["bytes.alloc",0]],0],["let","end",["ext.data_model.skip_value","doc","off"]],["if",["<","end",0],["return",["bytes.alloc",0]],0],["let","val",["view.to_bytes",["view.slice","doc","off",["-","end","off"]]]],["std.mcp.util.json.json_from_value_v1",["bytes.view","val"]]],"kind":"defn","name":"std.mcp.toolkit.server_cfg_file._map_value_json_or_empty_v1","params":[{"name":"doc","ty":"bytes_view"},{"name":"map_off","ty":"i32"},{"name":"key","ty":"bytes"}],"result":"bytes"},{"body":["begin",["let","st",["std.parse.i32_status_le","b"]],["if",["if",[">=u",["bytes.len","st"],5],["=",["bytes.get_u8","st",0],1],0],["codec.read_u32_le","st",1],0]],"kind":"defn","name":"std.mcp.toolkit.server_cfg_file._parse_i32_or_0_v1","params":[{"name":"b","ty":"bytes_view"}],"result":"i32"},{"body":["begin",["let","doc_b",["std.mcp.toolkit.server_cfg_file._doc_b_or_empty_v1","cfg_json"]],["let","doc",["bytes.view","doc_b"]],["if",["=",["bytes.len","doc"],0],["return",0],0],["let","root",["ext.data_model.root_offset","doc"]],["let","cap_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","root",["bytes.lit","capabilities"]]],["let","tasks_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","cap_off",["bytes.lit","tasks"]]],["let","req_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","tasks_off",["bytes.lit","requests"]]],["let","tools_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","req_off",["bytes.lit","tools"]]],["let","call_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","tools_off",["bytes.lit","call"]]],["if",[">=","call_off",0],1,0]],"kind":"defn","name":"std.mcp.toolkit.server_cfg_file.cap_tasks_requests_tools_call_v1","params":[{"name":"cfg_json","ty":"bytes_view"}],"result":"i32"},{"body":["begin",["let","b",["std.fs.read","path"]],["let","doc_b",["ext.json.data_model.parse",["bytes.view","b"]]],["let","doc",["bytes.view","doc_b"]],["if",["=",["ext.data_model.doc_is_err","doc"],1],["return",["result_bytes.err",["std.mcp.toolkit.server_cfg_file._err_invalid_server_cfg_v1"]]],0],["if",["!=",["ext.data_model.root_kind","doc"],5],["return",["result_bytes.err",["std.mcp.toolkit.server_cfg_file._err_invalid_server_cfg_v1"]]],0],["let","root",["ext.data_model.root_offset","doc"]],["let","k_schema",["bytes.lit","schema_version"]],["let","schema_off",["ext.data_model.map_find","doc","root",["bytes.view","k_schema"]]],["if",["if",["<","schema_off",0],1,["!=",["ext.data_model.kind_at","doc","schema_off"],3]],["return",["result_bytes.err",["std.mcp.toolkit.server_cfg_file._err_invalid_server_cfg_v1"]]],0],["let","schema_ver",["ext.data_model.string_get","doc","schema_off"]],["let","want",["bytes.lit","x07.mcp.server_config@0.3.0"]],["if",["=",["bytes.eq",["bytes.view","schema_ver"],["bytes.view","want"]],0],["return",["result_bytes.err",["std.mcp.toolkit.server_cfg_file._err_invalid_server_cfg_v1"]]],0],["result_bytes.ok","b"]],"kind":"defn","name":"std.mcp.toolkit.server_cfg_file.load_server_cfg_from_fs_v1","params":[{"name":"path","ty":"bytes_view"}],"result":"result_bytes"},{"body":["begin",["let","fallback",["bytes.lit","[]"]],["let","doc_b",["std.mcp.toolkit.server_cfg_file._doc_b_or_empty_v1","cfg_json"]],["let","doc",["bytes.view","doc_b"]],["if",["=",["bytes.len","doc"],0],["return","fallback"],0],["let","root",["ext.data_model.root_offset","doc"]],["let","obs_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","root",["bytes.lit","observability"]]],["let","audit_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","obs_off",["bytes.lit","audit"]]],["let","v",["std.mcp.toolkit.server_cfg_file._map_value_json_or_empty_v1","doc","audit_off",["bytes.lit","allow_tool_tags"]]],["if",[">",["bytes.len",["bytes.view","v"]],0],"v","fallback"]],"kind":"defn","name":"std.mcp.toolkit.server_cfg_file.obs_audit_allow_tool_tags_json_v1","params":[{"name":"cfg_json","ty":"bytes_view"}],"result":"bytes"},{"body":["begin",["let","doc_b",["std.mcp.toolkit.server_cfg_file._doc_b_or_empty_v1","cfg_json"]],["let","doc",["bytes.view","doc_b"]],["if",["=",["bytes.len","doc"],0],["return",0],0],["let","root",["ext.data_model.root_offset","doc"]],["let","obs_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","root",["bytes.lit","observability"]]],["let","audit_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","obs_off",["bytes.lit","audit"]]],["if",["<","audit_off",0],["return",0],0],["let","k_sinks",["bytes.lit","sinks"]],["let","sinks_off",["ext.data_model.map_find","doc","audit_off",["bytes.view","k_sinks"]]],["if",["<","sinks_off",0],["return",0],0],["if",["!=",["ext.data_model.kind_at","doc","sinks_off"],4],["return",0],0],["let","n",["ext.data_model.seq_len","doc","sinks_off"]],["if",["<","n",0],["return",0],0],["let","want",["bytes.lit","rr_sidecar_v1"]],["let","found",0],["for","i",0,"n",["begin",["if",["=","found",0],["begin",["let","entry_off",["ext.data_model.seq_get","doc","sinks_off","i"]],["if",["<","entry_off",0],0,["begin",["if",["!=",["ext.data_model.kind_at","doc","entry_off"],5],0,["begin",["let","k_kind",["bytes.lit","kind"]],["let","kind_off",["ext.data_model.map_find","doc","entry_off",["bytes.view","k_kind"]]],["if",["<","kind_off",0],0,["begin",["if",["!=",["ext.data_model.kind_at","doc","kind_off"],3],0,["begin",["let","kind",["ext.data_model.string_get","doc","kind_off"]],["if",["=",["bytes.eq",["bytes.view","kind"],["bytes.view","want"]],1],["set","found",1],0],0]],0]],0]],0]],0],0],0]],"found"],"kind":"defn","name":"std.mcp.toolkit.server_cfg_file.obs_audit_emit_rr_sidecar_v1","params":[{"name":"cfg_json","ty":"bytes_view"}],"result":"i32"},{"body":["begin",["let","doc_b",["std.mcp.toolkit.server_cfg_file._doc_b_or_empty_v1","cfg_json"]],["let","doc",["bytes.view","doc_b"]],["if",["=",["bytes.len","doc"],0],["return",0],0],["let","root",["ext.data_model.root_offset","doc"]],["let","obs_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","root",["bytes.lit","observability"]]],["let","audit_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","obs_off",["bytes.lit","audit"]]],["if",["<","audit_off",0],["return",0],0],["let","k_sinks",["bytes.lit","sinks"]],["let","sinks_off",["ext.data_model.map_find","doc","audit_off",["bytes.view","k_sinks"]]],["if",["<","sinks_off",0],["return",0],0],["if",["!=",["ext.data_model.kind_at","doc","sinks_off"],4],["return",0],0],["let","n",["ext.data_model.seq_len","doc","sinks_off"]],["if",["<","n",0],["return",0],0],["let","want",["bytes.lit","stderr_jsonl_v1"]],["let","found",0],["for","i",0,"n",["begin",["if",["=","found",0],["begin",["let","entry_off",["ext.data_model.seq_get","doc","sinks_off","i"]],["if",["<","entry_off",0],0,["begin",["if",["!=",["ext.data_model.kind_at","doc","entry_off"],5],0,["begin",["let","k_kind",["bytes.lit","kind"]],["let","kind_off",["ext.data_model.map_find","doc","entry_off",["bytes.view","k_kind"]]],["if",["<","kind_off",0],0,["begin",["if",["!=",["ext.data_model.kind_at","doc","kind_off"],3],0,["begin",["let","kind",["ext.data_model.string_get","doc","kind_off"]],["if",["=",["bytes.eq",["bytes.view","kind"],["bytes.view","want"]],1],["set","found",1],0],0]],0]],0]],0]],0],0],0]],"found"],"kind":"defn","name":"std.mcp.toolkit.server_cfg_file.obs_audit_emit_stderr_jsonl_v1","params":[{"name":"cfg_json","ty":"bytes_view"}],"result":"i32"},{"body":["begin",["let","doc_b",["std.mcp.toolkit.server_cfg_file._doc_b_or_empty_v1","cfg_json"]],["let","doc",["bytes.view","doc_b"]],["if",["=",["bytes.len","doc"],0],["return",0],0],["let","root",["ext.data_model.root_offset","doc"]],["let","obs_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","root",["bytes.lit","observability"]]],["let","audit_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","obs_off",["bytes.lit","audit"]]],["std.mcp.toolkit.server_cfg_file._map_bool_or_default_v1","doc","audit_off",["bytes.lit","enabled"],0]],"kind":"defn","name":"std.mcp.toolkit.server_cfg_file.obs_audit_enabled_v1","params":[{"name":"cfg_json","ty":"bytes_view"}],"result":"i32"},{"body":["begin",["let","fallback",["bytes.alloc",0]],["let","doc_b",["std.mcp.toolkit.server_cfg_file._doc_b_or_empty_v1","cfg_json"]],["let","doc",["bytes.view","doc_b"]],["if",["=",["bytes.len","doc"],0],["return","fallback"],0],["let","root",["ext.data_model.root_offset","doc"]],["let","obs_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","root",["bytes.lit","observability"]]],["let","clock_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","obs_off",["bytes.lit","clock"]]],["let","s",["std.mcp.toolkit.server_cfg_file._map_string_or_empty_v1","doc","clock_off",["bytes.lit","utc"]]],["if",[">",["bytes.len",["bytes.view","s"]],0],"s","fallback"]],"kind":"defn","name":"std.mcp.toolkit.server_cfg_file.obs_clock_fixed_utc_utf8_v1","params":[{"name":"cfg_json","ty":"bytes_view"}],"result":"bytes"},{"body":["begin",["let","fallback",["bytes.lit","os"]],["let","doc_b",["std.mcp.toolkit.server_cfg_file._doc_b_or_empty_v1","cfg_json"]],["let","doc",["bytes.view","doc_b"]],["if",["=",["bytes.len","doc"],0],["return","fallback"],0],["let","root",["ext.data_model.root_offset","doc"]],["let","obs_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","root",["bytes.lit","observability"]]],["let","clock_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","obs_off",["bytes.lit","clock"]]],["let","s",["std.mcp.toolkit.server_cfg_file._map_string_or_empty_v1","doc","clock_off",["bytes.lit","mode"]]],["if",[">",["bytes.len",["bytes.view","s"]],0],"s","fallback"]],"kind":"defn","name":"std.mcp.toolkit.server_cfg_file.obs_clock_mode_utf8_v1","params":[{"name":"cfg_json","ty":"bytes_view"}],"result":"bytes"},{"body":["begin",["let","fallback",["bytes.lit","warning"]],["let","doc_b",["std.mcp.toolkit.server_cfg_file._doc_b_or_empty_v1","cfg_json"]],["let","doc",["bytes.view","doc_b"]],["if",["=",["bytes.len","doc"],0],["return","fallback"],0],["let","root",["ext.data_model.root_offset","doc"]],["let","obs_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","root",["bytes.lit","observability"]]],["let","logging_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","obs_off",["bytes.lit","logging"]]],["let","s",["std.mcp.toolkit.server_cfg_file._map_string_or_empty_v1","doc","logging_off",["bytes.lit","client_level_floor"]]],["if",[">",["bytes.len",["bytes.view","s"]],0],"s","fallback"]],"kind":"defn","name":"std.mcp.toolkit.server_cfg_file.obs_logging_client_level_floor_utf8_v1","params":[{"name":"cfg_json","ty":"bytes_view"}],"result":"bytes"},{"body":["begin",["let","doc_b",["std.mcp.toolkit.server_cfg_file._doc_b_or_empty_v1","cfg_json"]],["let","doc",["bytes.view","doc_b"]],["if",["=",["bytes.len","doc"],0],["return",0],0],["let","root",["ext.data_model.root_offset","doc"]],["let","obs_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","root",["bytes.lit","observability"]]],["let","logging_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","obs_off",["bytes.lit","logging"]]],["std.mcp.toolkit.server_cfg_file._map_bool_or_default_v1","doc","logging_off",["bytes.lit","declare_capability"],0]],"kind":"defn","name":"std.mcp.toolkit.server_cfg_file.obs_logging_declare_capability_v1","params":[{"name":"cfg_json","ty":"bytes_view"}],"result":"i32"},{"body":["begin",["let","fallback",["bytes.lit","error"]],["let","doc_b",["std.mcp.toolkit.server_cfg_file._doc_b_or_empty_v1","cfg_json"]],["let","doc",["bytes.view","doc_b"]],["if",["=",["bytes.len","doc"],0],["return","fallback"],0],["let","root",["ext.data_model.root_offset","doc"]],["let","obs_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","root",["bytes.lit","observability"]]],["let","logging_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","obs_off",["bytes.lit","logging"]]],["let","s",["std.mcp.toolkit.server_cfg_file._map_string_or_empty_v1","doc","logging_off",["bytes.lit","default_client_level"]]],["if",[">",["bytes.len",["bytes.view","s"]],0],"s","fallback"]],"kind":"defn","name":"std.mcp.toolkit.server_cfg_file.obs_logging_default_client_level_utf8_v1","params":[{"name":"cfg_json","ty":"bytes_view"}],"result":"bytes"},{"body":["begin",["let","doc_b",["std.mcp.toolkit.server_cfg_file._doc_b_or_empty_v1","cfg_json"]],["let","doc",["bytes.view","doc_b"]],["if",["=",["bytes.len","doc"],0],["return",0],0],["let","root",["ext.data_model.root_offset","doc"]],["let","obs_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","root",["bytes.lit","observability"]]],["let","logging_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","obs_off",["bytes.lit","logging"]]],["let","emit_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","logging_off",["bytes.lit","emit"]]],["std.mcp.toolkit.server_cfg_file._map_bool_or_default_v1","doc","emit_off",["bytes.lit","tool_finish"],0]],"kind":"defn","name":"std.mcp.toolkit.server_cfg_file.obs_logging_emit_tool_finish_v1","params":[{"name":"cfg_json","ty":"bytes_view"}],"result":"i32"},{"body":["begin",["let","doc_b",["std.mcp.toolkit.server_cfg_file._doc_b_or_empty_v1","cfg_json"]],["let","doc",["bytes.view","doc_b"]],["if",["=",["bytes.len","doc"],0],["return",0],0],["let","root",["ext.data_model.root_offset","doc"]],["let","obs_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","root",["bytes.lit","observability"]]],["let","logging_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","obs_off",["bytes.lit","logging"]]],["let","emit_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","logging_off",["bytes.lit","emit"]]],["std.mcp.toolkit.server_cfg_file._map_bool_or_default_v1","doc","emit_off",["bytes.lit","tool_start"],0]],"kind":"defn","name":"std.mcp.toolkit.server_cfg_file.obs_logging_emit_tool_start_v1","params":[{"name":"cfg_json","ty":"bytes_view"}],"result":"i32"},{"body":["begin",["let","doc_b",["std.mcp.toolkit.server_cfg_file._doc_b_or_empty_v1","cfg_json"]],["let","doc",["bytes.view","doc_b"]],["if",["=",["bytes.len","doc"],0],["return",0],0],["let","root",["ext.data_model.root_offset","doc"]],["let","obs_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","root",["bytes.lit","observability"]]],["let","logging_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","obs_off",["bytes.lit","logging"]]],["std.mcp.toolkit.server_cfg_file._map_bool_or_default_v1","doc","logging_off",["bytes.lit","enabled"],0]],"kind":"defn","name":"std.mcp.toolkit.server_cfg_file.obs_logging_enabled_v1","params":[{"name":"cfg_json","ty":"bytes_view"}],"result":"i32"},{"body":["begin",["let","doc_b",["std.mcp.toolkit.server_cfg_file._doc_b_or_empty_v1","cfg_json"]],["let","doc",["bytes.view","doc_b"]],["if",["=",["bytes.len","doc"],0],["return",16384],0],["let","root",["ext.data_model.root_offset","doc"]],["let","obs_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","root",["bytes.lit","observability"]]],["let","logging_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","obs_off",["bytes.lit","logging"]]],["std.mcp.toolkit.server_cfg_file._map_i32_or_default_v1","doc","logging_off",["bytes.lit","max_data_bytes"],16384]],"kind":"defn","name":"std.mcp.toolkit.server_cfg_file.obs_logging_max_data_bytes_v1","params":[{"name":"cfg_json","ty":"bytes_view"}],"result":"i32"},{"body":["begin",["let","doc_b",["std.mcp.toolkit.server_cfg_file._doc_b_or_empty_v1","cfg_json"]],["let","doc",["bytes.view","doc_b"]],["if",["=",["bytes.len","doc"],0],["return",10],0],["let","root",["ext.data_model.root_offset","doc"]],["let","obs_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","root",["bytes.lit","observability"]]],["let","logging_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","obs_off",["bytes.lit","logging"]]],["std.mcp.toolkit.server_cfg_file._map_i32_or_default_v1","doc","logging_off",["bytes.lit","rate_limit_per_sec"],10]],"kind":"defn","name":"std.mcp.toolkit.server_cfg_file.obs_logging_rate_limit_per_sec_v1","params":[{"name":"cfg_json","ty":"bytes_view"}],"result":"i32"},{"body":["begin",["let","fallback",["bytes.lit","[]"]],["let","doc_b",["std.mcp.toolkit.server_cfg_file._doc_b_or_empty_v1","cfg_json"]],["let","doc",["bytes.view","doc_b"]],["if",["=",["bytes.len","doc"],0],["return","fallback"],0],["let","root",["ext.data_model.root_offset","doc"]],["let","obs_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","root",["bytes.lit","observability"]]],["let","logging_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","obs_off",["bytes.lit","logging"]]],["let","redaction_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","logging_off",["bytes.lit","redaction"]]],["let","v1",["std.mcp.toolkit.server_cfg_file._map_value_json_or_empty_v1","doc","redaction_off",["bytes.lit","redact_keys"]]],["if",[">",["bytes.len",["bytes.view","v1"]],0],"v1",["begin",["let","v2",["std.mcp.toolkit.server_cfg_file._map_value_json_or_empty_v1","doc","redaction_off",["bytes.lit","deny_keys"]]],["if",[">",["bytes.len",["bytes.view","v2"]],0],"v2","fallback"]]]],"kind":"defn","name":"std.mcp.toolkit.server_cfg_file.obs_logging_redact_keys_json_v1","params":[{"name":"cfg_json","ty":"bytes_view"}],"result":"bytes"},{"body":["begin",["let","fallback",["bytes.lit","[]"]],["let","doc_b",["std.mcp.toolkit.server_cfg_file._doc_b_or_empty_v1","cfg_json"]],["let","doc",["bytes.view","doc_b"]],["if",["=",["bytes.len","doc"],0],["return","fallback"],0],["let","root",["ext.data_model.root_offset","doc"]],["let","obs_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","root",["bytes.lit","observability"]]],["let","logging_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","obs_off",["bytes.lit","logging"]]],["let","redaction_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","logging_off",["bytes.lit","redaction"]]],["let","v1",["std.mcp.toolkit.server_cfg_file._map_value_json_or_empty_v1","doc","redaction_off",["bytes.lit","redact_patterns"]]],["if",[">",["bytes.len",["bytes.view","v1"]],0],"v1","fallback"]],"kind":"defn","name":"std.mcp.toolkit.server_cfg_file.obs_logging_redact_patterns_json_v1","params":[{"name":"cfg_json","ty":"bytes_view"}],"result":"bytes"},{"body":["begin",["let","fallback",["bytes.lit","<redacted>"]],["let","doc_b",["std.mcp.toolkit.server_cfg_file._doc_b_or_empty_v1","cfg_json"]],["let","doc",["bytes.view","doc_b"]],["if",["=",["bytes.len","doc"],0],["return","fallback"],0],["let","root",["ext.data_model.root_offset","doc"]],["let","obs_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","root",["bytes.lit","observability"]]],["let","logging_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","obs_off",["bytes.lit","logging"]]],["let","redaction_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","logging_off",["bytes.lit","redaction"]]],["let","s",["std.mcp.toolkit.server_cfg_file._map_string_or_empty_v1","doc","redaction_off",["bytes.lit","redacted_value"]]],["if",[">",["bytes.len",["bytes.view","s"]],0],"s","fallback"]],"kind":"defn","name":"std.mcp.toolkit.server_cfg_file.obs_logging_redacted_value_utf8_v1","params":[{"name":"cfg_json","ty":"bytes_view"}],"result":"bytes"},{"body":["begin",["let","doc_b",["std.mcp.toolkit.server_cfg_file._doc_b_or_empty_v1","cfg_json"]],["let","doc",["bytes.view","doc_b"]],["if",["=",["bytes.len","doc"],0],["return",0],0],["let","root",["ext.data_model.root_offset","doc"]],["let","obs_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","root",["bytes.lit","observability"]]],["let","metrics_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","obs_off",["bytes.lit","metrics"]]],["std.mcp.toolkit.server_cfg_file._map_bool_or_default_v1","doc","metrics_off",["bytes.lit","enabled"],0]],"kind":"defn","name":"std.mcp.toolkit.server_cfg_file.obs_metrics_enabled_v1","params":[{"name":"cfg_json","ty":"bytes_view"}],"result":"i32"},{"body":["begin",["let","fallback",["bytes.alloc",0]],["let","doc_b",["std.mcp.toolkit.server_cfg_file._doc_b_or_empty_v1","cfg_json"]],["let","doc",["bytes.view","doc_b"]],["if",["=",["bytes.len","doc"],0],["return","fallback"],0],["let","root",["ext.data_model.root_offset","doc"]],["let","obs_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","root",["bytes.lit","observability"]]],["let","metrics_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","obs_off",["bytes.lit","metrics"]]],["let","export_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","metrics_off",["bytes.lit","export"]]],["let","s",["std.mcp.toolkit.server_cfg_file._map_string_or_empty_v1","doc","export_off",["bytes.lit","arch_exporter_id"]]],["if",[">",["bytes.len",["bytes.view","s"]],0],"s","fallback"]],"kind":"defn","name":"std.mcp.toolkit.server_cfg_file.obs_metrics_export_arch_exporter_id_utf8_v1","params":[{"name":"cfg_json","ty":"bytes_view"}],"result":"bytes"},{"body":["begin",["let","fallback",["bytes.alloc",0]],["let","doc_b",["std.mcp.toolkit.server_cfg_file._doc_b_or_empty_v1","cfg_json"]],["let","doc",["bytes.view","doc_b"]],["if",["=",["bytes.len","doc"],0],["return","fallback"],0],["let","root",["ext.data_model.root_offset","doc"]],["let","obs_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","root",["bytes.lit","observability"]]],["let","metrics_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","obs_off",["bytes.lit","metrics"]]],["let","export_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","metrics_off",["bytes.lit","export"]]],["let","s",["std.mcp.toolkit.server_cfg_file._map_string_or_empty_v1","doc","export_off",["bytes.lit","kind"]]],["if",[">",["bytes.len",["bytes.view","s"]],0],"s","fallback"]],"kind":"defn","name":"std.mcp.toolkit.server_cfg_file.obs_metrics_export_kind_utf8_v1","params":[{"name":"cfg_json","ty":"bytes_view"}],"result":"bytes"},{"body":["begin",["let","doc_b",["std.mcp.toolkit.server_cfg_file._doc_b_or_empty_v1","cfg_json"]],["let","doc",["bytes.view","doc_b"]],["if",["=",["bytes.len","doc"],0],["return",5000],0],["let","root",["ext.data_model.root_offset","doc"]],["let","obs_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","root",["bytes.lit","observability"]]],["let","metrics_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","obs_off",["bytes.lit","metrics"]]],["std.mcp.toolkit.server_cfg_file._map_i32_or_default_v1","doc","metrics_off",["bytes.lit","flush_interval_ms"],5000]],"kind":"defn","name":"std.mcp.toolkit.server_cfg_file.obs_metrics_flush_interval_ms_v1","params":[{"name":"cfg_json","ty":"bytes_view"}],"result":"i32"},{"body":["begin",["let","b",["std.fs.read","path"]],["let","doc_b",["ext.json.data_model.parse",["bytes.view","b"]]],["let","doc",["bytes.view","doc_b"]],["if",["=",["ext.data_model.doc_is_err","doc"],1],["return",["result_bytes.err",["std.mcp.toolkit.server_cfg_file._err_invalid_server_cfg_v1"]]],0],["if",["!=",["ext.data_model.root_kind","doc"],5],["return",["result_bytes.err",["std.mcp.toolkit.server_cfg_file._err_invalid_server_cfg_v1"]]],0],["let","root",["ext.data_model.root_offset","doc"]],["let","k_schema",["bytes.lit","schema_version"]],["let","schema_off",["ext.data_model.map_find","doc","root",["bytes.view","k_schema"]]],["if",["if",["<","schema_off",0],1,["!=",["ext.data_model.kind_at","doc","schema_off"],3]],["return",["result_bytes.err",["std.mcp.toolkit.server_cfg_file._err_invalid_server_cfg_v1"]]],0],["let","schema_ver",["ext.data_model.string_get","doc","schema_off"]],["let","want",["bytes.lit","x07.mcp.server_config@0.3.0"]],["if",["=",["bytes.eq",["bytes.view","schema_ver"],["bytes.view","want"]],0],["return",["result_bytes.err",["std.mcp.toolkit.server_cfg_file._err_invalid_server_cfg_v1"]]],0],["let","k_tools",["bytes.lit","tools"]],["let","k_desc",["bytes.lit","descriptor_path"]],["let","tools_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","root",["bytes.lit","tools"]]],["let","tools_path",["std.mcp.toolkit.server_cfg_file._map_string_or_empty_v1","doc","tools_off",["bytes.lit","descriptor_path"]]],["if",["=",["bytes.len",["bytes.view","tools_path"]],0],["return",["result_bytes.err",["std.mcp.toolkit.server_cfg_file._err_invalid_server_cfg_v1"]]],0],["let","k_caps",["bytes.lit","capabilities"]],["let","k_tasks",["bytes.lit","tasks"]],["let","k_requests",["bytes.lit","requests"]],["let","k_tools2",["bytes.lit","tools"]],["let","k_call",["bytes.lit","call"]],["let","caps_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","root",["bytes.lit","capabilities"]]],["let","cap_tasks_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","caps_off",["bytes.lit","tasks"]]],["let","req_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","cap_tasks_off",["bytes.lit","requests"]]],["let","req_tools_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","req_off",["bytes.lit","tools"]]],["let","call_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","req_tools_off",["bytes.lit","call"]]],["let","tasks_req_call",["if",[">=","call_off",0],1,0]],["let","tasks_cfg_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","root",["bytes.lit","tasks"]]],["let","k_enabled",["bytes.lit","enabled"]],["let","tasks_enabled",["std.mcp.toolkit.server_cfg_file._map_bool_or_default_v1","doc","tasks_cfg_off",["bytes.lit","enabled"],0]],["let","k_defaults",["bytes.lit","defaults"]],["let","k_ttl",["bytes.lit","ttl_ms"]],["let","k_poll",["bytes.lit","poll_interval_ms"]],["let","defaults_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","tasks_cfg_off",["bytes.lit","defaults"]]],["let","ttl_ms",["std.mcp.toolkit.server_cfg_file._map_i32_or_default_v1","doc","defaults_off",["bytes.lit","ttl_ms"],0]],["let","poll_ms",["std.mcp.toolkit.server_cfg_file._map_i32_or_default_v1","doc","defaults_off",["bytes.lit","poll_interval_ms"],0]],["let","k_notifications",["bytes.lit","notifications"]],["let","k_status",["bytes.lit","status"]],["let","notif_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","tasks_cfg_off",["bytes.lit","notifications"]]],["let","notif_status",["std.mcp.toolkit.server_cfg_file._map_bool_or_default_v1","doc","notif_off",["bytes.lit","status"],1]],["let","k_executor",["bytes.lit","executor"]],["let","k_mode",["bytes.lit","mode"]],["let","k_det",["bytes.lit","deterministic"]],["let","k_complete_after",["bytes.lit","complete_after_ticks"]],["let","k_advance_on",["bytes.lit","advance_on"]],["let","executor_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","tasks_cfg_off",["bytes.lit","executor"]]],["let","executor_mode_txt",["std.mcp.toolkit.server_cfg_file._map_string_or_empty_v1","doc","executor_off",["bytes.lit","mode"]]],["let","lit_async_pool",["bytes.lit","async_pool"]],["let","executor_mode",["if",["=",["bytes.eq",["bytes.view","executor_mode_txt"],["bytes.view","lit_async_pool"]],1],1,0]],["let","det_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","executor_off",["bytes.lit","deterministic"]]],["let","complete_after",["std.mcp.toolkit.server_cfg_file._map_i32_or_default_v1","doc","det_off",["bytes.lit","complete_after_ticks"],1]],["let","advance_on_json0",["std.mcp.toolkit.server_cfg_file._map_value_json_or_empty_v1","doc","det_off",["bytes.lit","advance_on"]]],["let","advance_on_json",["if",[">",["bytes.len",["bytes.view","advance_on_json0"]],0],"advance_on_json0",["bytes.lit","[]"]]],["let","k_ret",["bytes.lit","retention"]],["let","k_max",["bytes.lit","max_tasks"]],["let","ret_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","tasks_cfg_off",["bytes.lit","retention"]]],["let","max_tasks",["std.mcp.toolkit.server_cfg_file._map_i32_or_default_v1","doc","ret_off",["bytes.lit","max_tasks"],1000]],["let","k_store",["bytes.lit","store"]],["let","store_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","tasks_cfg_off",["bytes.lit","store"]]],["let","store_mode_txt",["std.mcp.toolkit.server_cfg_file._map_string_or_empty_v1","doc","store_off",["bytes.lit","mode"]]],["let","lit_sqlite",["bytes.lit","sqlite"]],["let","store_mode",["if",["=",["bytes.eq",["bytes.view","store_mode_txt"],["bytes.view","lit_sqlite"]],1],1,0]],["let","k_id",["bytes.lit","id"]],["let","k_prefix",["bytes.lit","prefix"]],["let","k_start",["bytes.lit","start"]],["let","id_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","tasks_cfg_off",["bytes.lit","id"]]],["let","det_id_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","id_off",["bytes.lit","deterministic"]]],["let","id_prefix0",["std.mcp.toolkit.server_cfg_file._map_string_or_empty_v1","doc","det_id_off",["bytes.lit","prefix"]]],["let","id_prefix",["if",[">",["bytes.len",["bytes.view","id_prefix0"]],0],"id_prefix0",["bytes.lit","task_"]]],["let","next_task_i",["std.mcp.toolkit.server_cfg_file._map_i32_or_default_v1","doc","det_id_off",["bytes.lit","start"],1]],["let","k_clock",["bytes.lit","clock"]],["let","k_fixed",["bytes.lit","fixed"]],["let","k_start_iso",["bytes.lit","start_iso8601"]],["let","k_step_ms",["bytes.lit","step_ms"]],["let","clock_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","tasks_cfg_off",["bytes.lit","clock"]]],["let","clock_mode_txt",["std.mcp.toolkit.server_cfg_file._map_string_or_empty_v1","doc","clock_off",["bytes.lit","mode"]]],["let","lit_os_now",["bytes.lit","os_now"]],["let","clock_mode",["if",["=",["bytes.eq",["bytes.view","clock_mode_txt"],["bytes.view","lit_os_now"]],1],1,0]],["let","fixed_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","clock_off",["bytes.lit","fixed"]]],["let","start_iso",["std.mcp.toolkit.server_cfg_file._map_string_or_empty_v1","doc","fixed_off",["bytes.lit","start_iso8601"]]],["let","step_ms",["std.mcp.toolkit.server_cfg_file._map_i32_or_default_v1","doc","fixed_off",["bytes.lit","step_ms"],1000]],["if",["&",["=","clock_mode",0],["&",["=","tasks_enabled",1],["=",["bytes.len",["bytes.view","start_iso"]],0]]],["return",["result_bytes.err",["std.mcp.toolkit.server_cfg_file._err_invalid_server_cfg_v1"]]],0],["let","k_server",["bytes.lit","server"]],["let","k_name",["bytes.lit","name"]],["let","k_version",["bytes.lit","version"]],["let","k_protocol",["bytes.lit","protocolVersion"]],["let","server_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","root",["bytes.lit","server"]]],["let","server_name",["std.mcp.toolkit.server_cfg_file._map_string_or_empty_v1","doc","server_off",["bytes.lit","name"]]],["if",["=",["bytes.len",["bytes.view","server_name"]],0],["return",["result_bytes.err",["std.mcp.toolkit.server_cfg_file._err_invalid_server_cfg_v1"]]],0],["let","server_ver",["std.mcp.toolkit.server_cfg_file._map_string_or_empty_v1","doc","server_off",["bytes.lit","version"]]],["if",["=",["bytes.len",["bytes.view","server_ver"]],0],["return",["result_bytes.err",["std.mcp.toolkit.server_cfg_file._err_invalid_server_cfg_v1"]]],0],["let","protocol_v",["std.mcp.toolkit.server_cfg_file._map_string_or_empty_v1","doc","server_off",["bytes.lit","protocolVersion"]]],["if",["=",["bytes.len",["bytes.view","protocol_v"]],0],["return",["result_bytes.err",["std.mcp.toolkit.server_cfg_file._err_invalid_server_cfg_v1"]]],0],["let","cfg_len",["bytes.len",["bytes.view","b"]]],["let","tp_len",["bytes.len",["bytes.view","tools_path"]]],["let","adv_len",["bytes.len",["bytes.view","advance_on_json"]]],["let","iso_len",["bytes.len",["bytes.view","start_iso"]]],["let","idp_len",["bytes.len",["bytes.view","id_prefix"]]],["let","name_len",["bytes.len",["bytes.view","server_name"]]],["let","ver_len",["bytes.len",["bytes.view","server_ver"]]],["let","proto_len",["bytes.len",["bytes.view","protocol_v"]]],["let","hdr_len",84],["let","total",["+","hdr_len",["+",["+",["+",["+",["+","cfg_len","tp_len"],"adv_len"],"iso_len"],"idp_len"],["+",["+","name_len","ver_len"],"proto_len"]]]],["let","out",["vec_u8.with_capacity","total"]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le",2]]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","tasks_enabled"]]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","tasks_req_call"]]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","ttl_ms"]]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","poll_ms"]]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","notif_status"]]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","executor_mode"]]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","complete_after"]]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","max_tasks"]]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","store_mode"]]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","clock_mode"]]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","step_ms"]]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","next_task_i"]]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","cfg_len"]]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","tp_len"]]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","adv_len"]]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","iso_len"]]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","idp_len"]]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","name_len"]]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","ver_len"]]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","proto_len"]]],["set","out",["vec_u8.extend_bytes","out",["bytes.view","b"]]],["set","out",["vec_u8.extend_bytes","out",["bytes.view","tools_path"]]],["set","out",["vec_u8.extend_bytes","out",["bytes.view","advance_on_json"]]],["set","out",["vec_u8.extend_bytes","out",["bytes.view","start_iso"]]],["set","out",["vec_u8.extend_bytes","out",["bytes.view","id_prefix"]]],["set","out",["vec_u8.extend_bytes","out",["bytes.view","server_name"]]],["set","out",["vec_u8.extend_bytes","out",["bytes.view","server_ver"]]],["set","out",["vec_u8.extend_bytes","out",["bytes.view","protocol_v"]]],["let","pack",["vec_u8.into_bytes","out"]],["result_bytes.ok","pack"]],"kind":"defn","name":"std.mcp.toolkit.server_cfg_file.router_cfg_from_fs_v1","params":[{"name":"path","ty":"bytes_view"}],"result":"result_bytes"},{"body":["begin",["let","doc_b",["std.mcp.toolkit.server_cfg_file._doc_b_or_empty_v1","cfg_json"]],["let","doc",["bytes.view","doc_b"]],["if",["=",["bytes.len","doc"],0],["return",0],0],["let","root",["ext.data_model.root_offset","doc"]],["let","sandbox_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","root",["bytes.lit","sandbox"]]],["let","per_tool_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","sandbox_off",["bytes.lit","per_tool"]]],["std.mcp.toolkit.server_cfg_file._map_bool_or_default_v1","doc","per_tool_off",["bytes.lit","enabled"],0]],"kind":"defn","name":"std.mcp.toolkit.server_cfg_file.sandbox_per_tool_enabled_v1","params":[{"name":"cfg_json","ty":"bytes_view"}],"result":"i32"},{"body":["begin",["let","doc_b",["std.mcp.toolkit.server_cfg_file._doc_b_or_empty_v1","cfg_json"]],["let","doc",["bytes.view","doc_b"]],["if",["=",["bytes.len","doc"],0],["return",["bytes.alloc",0]],0],["let","root",["ext.data_model.root_offset","doc"]],["let","sandbox_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","root",["bytes.lit","sandbox"]]],["let","per_tool_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","sandbox_off",["bytes.lit","per_tool"]]],["std.mcp.toolkit.server_cfg_file._map_string_or_empty_v1","doc","per_tool_off",["bytes.lit","policy_path"]]],"kind":"defn","name":"std.mcp.toolkit.server_cfg_file.sandbox_per_tool_policy_path_v1","params":[{"name":"cfg_json","ty":"bytes_view"}],"result":"bytes"},{"body":["begin",["let","doc_b",["std.mcp.toolkit.server_cfg_file._doc_b_or_empty_v1","cfg_json"]],["let","doc",["bytes.view","doc_b"]],["if",["=",["bytes.len","doc"],0],["return",["bytes.alloc",0]],0],["let","root",["ext.data_model.root_offset","doc"]],["let","server_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","root",["bytes.lit","server"]]],["std.mcp.toolkit.server_cfg_file._map_string_or_empty_v1","doc","server_off",["bytes.lit","name"]]],"kind":"defn","name":"std.mcp.toolkit.server_cfg_file.server_name_v1","params":[{"name":"cfg_json","ty":"bytes_view"}],"result":"bytes"},{"body":["begin",["let","doc_b",["std.mcp.toolkit.server_cfg_file._doc_b_or_empty_v1","cfg_json"]],["let","doc",["bytes.view","doc_b"]],["if",["=",["bytes.len","doc"],0],["return",["bytes.alloc",0]],0],["let","root",["ext.data_model.root_offset","doc"]],["let","server_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","root",["bytes.lit","server"]]],["std.mcp.toolkit.server_cfg_file._map_string_or_empty_v1","doc","server_off",["bytes.lit","protocolVersion"]]],"kind":"defn","name":"std.mcp.toolkit.server_cfg_file.server_protocol_version_v1","params":[{"name":"cfg_json","ty":"bytes_view"}],"result":"bytes"},{"body":["begin",["let","doc_b",["std.mcp.toolkit.server_cfg_file._doc_b_or_empty_v1","cfg_json"]],["let","doc",["bytes.view","doc_b"]],["if",["=",["bytes.len","doc"],0],["return",["bytes.alloc",0]],0],["let","root",["ext.data_model.root_offset","doc"]],["let","server_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","root",["bytes.lit","server"]]],["std.mcp.toolkit.server_cfg_file._map_string_or_empty_v1","doc","server_off",["bytes.lit","version"]]],"kind":"defn","name":"std.mcp.toolkit.server_cfg_file.server_version_v1","params":[{"name":"cfg_json","ty":"bytes_view"}],"result":"bytes"},{"body":["begin",["let","doc_b",["std.mcp.toolkit.server_cfg_file._doc_b_or_empty_v1","cfg_json"]],["let","doc",["bytes.view","doc_b"]],["if",["=",["bytes.len","doc"],0],["return",["bytes.alloc",0]],0],["let","root",["ext.data_model.root_offset","doc"]],["let","tasks_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","root",["bytes.lit","tasks"]]],["let","clock_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","tasks_off",["bytes.lit","clock"]]],["let","fixed_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","clock_off",["bytes.lit","fixed"]]],["std.mcp.toolkit.server_cfg_file._map_string_or_empty_v1","doc","fixed_off",["bytes.lit","start_iso8601"]]],"kind":"defn","name":"std.mcp.toolkit.server_cfg_file.tasks_clock_fixed_start_iso8601_v1","params":[{"name":"cfg_json","ty":"bytes_view"}],"result":"bytes"},{"body":["begin",["let","doc_b",["std.mcp.toolkit.server_cfg_file._doc_b_or_empty_v1","cfg_json"]],["let","doc",["bytes.view","doc_b"]],["if",["=",["bytes.len","doc"],0],["return",0],0],["let","root",["ext.data_model.root_offset","doc"]],["let","tasks_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","root",["bytes.lit","tasks"]]],["let","clock_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","tasks_off",["bytes.lit","clock"]]],["let","fixed_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","clock_off",["bytes.lit","fixed"]]],["std.mcp.toolkit.server_cfg_file._map_i32_or_default_v1","doc","fixed_off",["bytes.lit","step_ms"],0]],"kind":"defn","name":"std.mcp.toolkit.server_cfg_file.tasks_clock_fixed_step_ms_v1","params":[{"name":"cfg_json","ty":"bytes_view"}],"result":"i32"},{"body":["begin",["let","doc_b",["std.mcp.toolkit.server_cfg_file._doc_b_or_empty_v1","cfg_json"]],["let","doc",["bytes.view","doc_b"]],["if",["=",["bytes.len","doc"],0],["return",["bytes.alloc",0]],0],["let","root",["ext.data_model.root_offset","doc"]],["let","tasks_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","root",["bytes.lit","tasks"]]],["let","clock_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","tasks_off",["bytes.lit","clock"]]],["std.mcp.toolkit.server_cfg_file._map_string_or_empty_v1","doc","clock_off",["bytes.lit","mode"]]],"kind":"defn","name":"std.mcp.toolkit.server_cfg_file.tasks_clock_mode_v1","params":[{"name":"cfg_json","ty":"bytes_view"}],"result":"bytes"},{"body":["begin",["let","doc_b",["std.mcp.toolkit.server_cfg_file._doc_b_or_empty_v1","cfg_json"]],["let","doc",["bytes.view","doc_b"]],["if",["=",["bytes.len","doc"],0],["return",0],0],["let","root",["ext.data_model.root_offset","doc"]],["let","tasks_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","root",["bytes.lit","tasks"]]],["let","defaults_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","tasks_off",["bytes.lit","defaults"]]],["std.mcp.toolkit.server_cfg_file._map_i32_or_default_v1","doc","defaults_off",["bytes.lit","poll_interval_ms"],0]],"kind":"defn","name":"std.mcp.toolkit.server_cfg_file.tasks_defaults_poll_interval_ms_v1","params":[{"name":"cfg_json","ty":"bytes_view"}],"result":"i32"},{"body":["begin",["let","doc_b",["std.mcp.toolkit.server_cfg_file._doc_b_or_empty_v1","cfg_json"]],["let","doc",["bytes.view","doc_b"]],["if",["=",["bytes.len","doc"],0],["return",0],0],["let","root",["ext.data_model.root_offset","doc"]],["let","tasks_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","root",["bytes.lit","tasks"]]],["let","defaults_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","tasks_off",["bytes.lit","defaults"]]],["std.mcp.toolkit.server_cfg_file._map_i32_or_default_v1","doc","defaults_off",["bytes.lit","ttl_ms"],0]],"kind":"defn","name":"std.mcp.toolkit.server_cfg_file.tasks_defaults_ttl_ms_v1","params":[{"name":"cfg_json","ty":"bytes_view"}],"result":"i32"},{"body":["begin",["let","doc_b",["std.mcp.toolkit.server_cfg_file._doc_b_or_empty_v1","cfg_json"]],["let","doc",["bytes.view","doc_b"]],["if",["=",["bytes.len","doc"],0],["return",0],0],["let","root",["ext.data_model.root_offset","doc"]],["let","tasks_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","root",["bytes.lit","tasks"]]],["std.mcp.toolkit.server_cfg_file._map_bool_or_default_v1","doc","tasks_off",["bytes.lit","enabled"],0]],"kind":"defn","name":"std.mcp.toolkit.server_cfg_file.tasks_enabled_v1","params":[{"name":"cfg_json","ty":"bytes_view"}],"result":"i32"},{"body":["begin",["let","doc_b",["std.mcp.toolkit.server_cfg_file._doc_b_or_empty_v1","cfg_json"]],["let","doc",["bytes.view","doc_b"]],["if",["=",["bytes.len","doc"],0],["return",["bytes.alloc",0]],0],["let","root",["ext.data_model.root_offset","doc"]],["let","tasks_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","root",["bytes.lit","tasks"]]],["let","exec_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","tasks_off",["bytes.lit","executor"]]],["let","det_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","exec_off",["bytes.lit","deterministic"]]],["std.mcp.toolkit.server_cfg_file._map_value_json_or_empty_v1","doc","det_off",["bytes.lit","advance_on"]]],"kind":"defn","name":"std.mcp.toolkit.server_cfg_file.tasks_executor_det_advance_on_json_v1","params":[{"name":"cfg_json","ty":"bytes_view"}],"result":"bytes"},{"body":["begin",["let","doc_b",["std.mcp.toolkit.server_cfg_file._doc_b_or_empty_v1","cfg_json"]],["let","doc",["bytes.view","doc_b"]],["if",["=",["bytes.len","doc"],0],["return",0],0],["let","root",["ext.data_model.root_offset","doc"]],["let","tasks_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","root",["bytes.lit","tasks"]]],["let","exec_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","tasks_off",["bytes.lit","executor"]]],["let","det_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","exec_off",["bytes.lit","deterministic"]]],["std.mcp.toolkit.server_cfg_file._map_i32_or_default_v1","doc","det_off",["bytes.lit","complete_after_ticks"],0]],"kind":"defn","name":"std.mcp.toolkit.server_cfg_file.tasks_executor_det_complete_after_ticks_v1","params":[{"name":"cfg_json","ty":"bytes_view"}],"result":"i32"},{"body":["begin",["let","doc_b",["std.mcp.toolkit.server_cfg_file._doc_b_or_empty_v1","cfg_json"]],["let","doc",["bytes.view","doc_b"]],["if",["=",["bytes.len","doc"],0],["return",["bytes.alloc",0]],0],["let","root",["ext.data_model.root_offset","doc"]],["let","tasks_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","root",["bytes.lit","tasks"]]],["let","exec_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","tasks_off",["bytes.lit","executor"]]],["std.mcp.toolkit.server_cfg_file._map_string_or_empty_v1","doc","exec_off",["bytes.lit","mode"]]],"kind":"defn","name":"std.mcp.toolkit.server_cfg_file.tasks_executor_mode_v1","params":[{"name":"cfg_json","ty":"bytes_view"}],"result":"bytes"},{"body":["begin",["let","doc_b",["std.mcp.toolkit.server_cfg_file._doc_b_or_empty_v1","cfg_json"]],["let","doc",["bytes.view","doc_b"]],["if",["=",["bytes.len","doc"],0],["return",["bytes.alloc",0]],0],["let","root",["ext.data_model.root_offset","doc"]],["let","tasks_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","root",["bytes.lit","tasks"]]],["let","id_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","tasks_off",["bytes.lit","id"]]],["let","det_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","id_off",["bytes.lit","deterministic"]]],["std.mcp.toolkit.server_cfg_file._map_string_or_empty_v1","doc","det_off",["bytes.lit","prefix"]]],"kind":"defn","name":"std.mcp.toolkit.server_cfg_file.tasks_id_det_prefix_v1","params":[{"name":"cfg_json","ty":"bytes_view"}],"result":"bytes"},{"body":["begin",["let","doc_b",["std.mcp.toolkit.server_cfg_file._doc_b_or_empty_v1","cfg_json"]],["let","doc",["bytes.view","doc_b"]],["if",["=",["bytes.len","doc"],0],["return",0],0],["let","root",["ext.data_model.root_offset","doc"]],["let","tasks_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","root",["bytes.lit","tasks"]]],["let","id_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","tasks_off",["bytes.lit","id"]]],["let","det_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","id_off",["bytes.lit","deterministic"]]],["std.mcp.toolkit.server_cfg_file._map_i32_or_default_v1","doc","det_off",["bytes.lit","start"],0]],"kind":"defn","name":"std.mcp.toolkit.server_cfg_file.tasks_id_det_start_v1","params":[{"name":"cfg_json","ty":"bytes_view"}],"result":"i32"},{"body":["begin",["let","doc_b",["std.mcp.toolkit.server_cfg_file._doc_b_or_empty_v1","cfg_json"]],["let","doc",["bytes.view","doc_b"]],["if",["=",["bytes.len","doc"],0],["return",["bytes.alloc",0]],0],["let","root",["ext.data_model.root_offset","doc"]],["let","tasks_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","root",["bytes.lit","tasks"]]],["let","id_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","tasks_off",["bytes.lit","id"]]],["std.mcp.toolkit.server_cfg_file._map_string_or_empty_v1","doc","id_off",["bytes.lit","mode"]]],"kind":"defn","name":"std.mcp.toolkit.server_cfg_file.tasks_id_mode_v1","params":[{"name":"cfg_json","ty":"bytes_view"}],"result":"bytes"},{"body":["begin",["let","doc_b",["std.mcp.toolkit.server_cfg_file._doc_b_or_empty_v1","cfg_json"]],["let","doc",["bytes.view","doc_b"]],["if",["=",["bytes.len","doc"],0],["return",1],0],["let","root",["ext.data_model.root_offset","doc"]],["let","tasks_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","root",["bytes.lit","tasks"]]],["let","notif_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","tasks_off",["bytes.lit","notifications"]]],["std.mcp.toolkit.server_cfg_file._map_bool_or_default_v1","doc","notif_off",["bytes.lit","status"],1]],"kind":"defn","name":"std.mcp.toolkit.server_cfg_file.tasks_notif_status_enabled_v1","params":[{"name":"cfg_json","ty":"bytes_view"}],"result":"i32"},{"body":["begin",["let","doc_b",["std.mcp.toolkit.server_cfg_file._doc_b_or_empty_v1","cfg_json"]],["let","doc",["bytes.view","doc_b"]],["if",["=",["bytes.len","doc"],0],["return",0],0],["let","root",["ext.data_model.root_offset","doc"]],["let","tasks_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","root",["bytes.lit","tasks"]]],["let","ret_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","tasks_off",["bytes.lit","retention"]]],["std.mcp.toolkit.server_cfg_file._map_i32_or_default_v1","doc","ret_off",["bytes.lit","max_tasks"],0]],"kind":"defn","name":"std.mcp.toolkit.server_cfg_file.tasks_retention_max_tasks_v1","params":[{"name":"cfg_json","ty":"bytes_view"}],"result":"i32"},{"body":["begin",["let","doc_b",["std.mcp.toolkit.server_cfg_file._doc_b_or_empty_v1","cfg_json"]],["let","doc",["bytes.view","doc_b"]],["if",["=",["bytes.len","doc"],0],["return",["bytes.alloc",0]],0],["let","root",["ext.data_model.root_offset","doc"]],["let","tasks_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","root",["bytes.lit","tasks"]]],["let","store_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","tasks_off",["bytes.lit","store"]]],["std.mcp.toolkit.server_cfg_file._map_string_or_empty_v1","doc","store_off",["bytes.lit","mode"]]],"kind":"defn","name":"std.mcp.toolkit.server_cfg_file.tasks_store_mode_v1","params":[{"name":"cfg_json","ty":"bytes_view"}],"result":"bytes"},{"body":["begin",["let","doc_b",["std.mcp.toolkit.server_cfg_file._doc_b_or_empty_v1","cfg_json"]],["let","doc",["bytes.view","doc_b"]],["if",["=",["bytes.len","doc"],0],["return",["bytes.alloc",0]],0],["let","root",["ext.data_model.root_offset","doc"]],["let","tasks_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","root",["bytes.lit","tasks"]]],["let","store_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","tasks_off",["bytes.lit","store"]]],["let","sqlite_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","store_off",["bytes.lit","sqlite"]]],["std.mcp.toolkit.server_cfg_file._map_string_or_empty_v1","doc","sqlite_off",["bytes.lit","path"]]],"kind":"defn","name":"std.mcp.toolkit.server_cfg_file.tasks_store_sqlite_path_v1","params":[{"name":"cfg_json","ty":"bytes_view"}],"result":"bytes"},{"body":["begin",["let","doc_b",["std.mcp.toolkit.server_cfg_file._doc_b_or_empty_v1","cfg_json"]],["let","doc",["bytes.view","doc_b"]],["if",["=",["bytes.len","doc"],0],["return",["bytes.alloc",0]],0],["let","root",["ext.data_model.root_offset","doc"]],["let","tools_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","root",["bytes.lit","tools"]]],["std.mcp.toolkit.server_cfg_file._map_string_or_empty_v1","doc","tools_off",["bytes.lit","descriptor_path"]]],"kind":"defn","name":"std.mcp.toolkit.server_cfg_file.tools_descriptor_path_v1","params":[{"name":"cfg_json","ty":"bytes_view"}],"result":"bytes"},{"body":["begin",["let","doc_b",["std.mcp.toolkit.server_cfg_file._doc_b_or_empty_v1","cfg_json"]],["let","doc",["bytes.view","doc_b"]],["if",["=",["bytes.len","doc"],0],["return",["bytes.alloc",0]],0],["let","root",["ext.data_model.root_offset","doc"]],["let","transports_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","root",["bytes.lit","transports"]]],["let","http_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","transports_off",["bytes.lit","http"]]],["std.mcp.toolkit.server_cfg_file._map_string_or_empty_v1","doc","http_off",["bytes.lit","bind"]]],"kind":"defn","name":"std.mcp.toolkit.server_cfg_file.transport_http_bind_v1","params":[{"name":"cfg_json","ty":"bytes_view"}],"result":"bytes"},{"body":["begin",["let","doc_b",["std.mcp.toolkit.server_cfg_file._doc_b_or_empty_v1","cfg_json"]],["let","doc",["bytes.view","doc_b"]],["if",["=",["bytes.len","doc"],0],["return",0],0],["let","root",["ext.data_model.root_offset","doc"]],["let","transports_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","root",["bytes.lit","transports"]]],["let","http_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","transports_off",["bytes.lit","http"]]],["std.mcp.toolkit.server_cfg_file._map_bool_or_default_v1","doc","http_off",["bytes.lit","enabled"],0]],"kind":"defn","name":"std.mcp.toolkit.server_cfg_file.transport_http_enabled_v1","params":[{"name":"cfg_json","ty":"bytes_view"}],"result":"i32"},{"body":["begin",["let","doc_b",["std.mcp.toolkit.server_cfg_file._doc_b_or_empty_v1","cfg_json"]],["let","doc",["bytes.view","doc_b"]],["if",["=",["bytes.len","doc"],0],["return",["bytes.alloc",0]],0],["let","root",["ext.data_model.root_offset","doc"]],["let","transports_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","root",["bytes.lit","transports"]]],["let","http_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","transports_off",["bytes.lit","http"]]],["std.mcp.toolkit.server_cfg_file._map_string_or_empty_v1","doc","http_off",["bytes.lit","path"]]],"kind":"defn","name":"std.mcp.toolkit.server_cfg_file.transport_http_path_v1","params":[{"name":"cfg_json","ty":"bytes_view"}],"result":"bytes"},{"body":["begin",["let","doc_b",["std.mcp.toolkit.server_cfg_file._doc_b_or_empty_v1","cfg_json"]],["let","doc",["bytes.view","doc_b"]],["if",["=",["bytes.len","doc"],0],["return",0],0],["let","root",["ext.data_model.root_offset","doc"]],["let","transports_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","root",["bytes.lit","transports"]]],["let","http_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","transports_off",["bytes.lit","http"]]],["let","streamable_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","http_off",["bytes.lit","streamable"]]],["let","sse_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","streamable_off",["bytes.lit","sse"]]],["std.mcp.toolkit.server_cfg_file._map_bool_or_default_v1","doc","sse_off",["bytes.lit","enabled"],0]],"kind":"defn","name":"std.mcp.toolkit.server_cfg_file.transport_http_sse_enabled_v1","params":[{"name":"cfg_json","ty":"bytes_view"}],"result":"i32"},{"body":["begin",["let","doc_b",["std.mcp.toolkit.server_cfg_file._doc_b_or_empty_v1","cfg_json"]],["let","doc",["bytes.view","doc_b"]],["if",["=",["bytes.len","doc"],0],["return",0],0],["let","root",["ext.data_model.root_offset","doc"]],["let","transports_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","root",["bytes.lit","transports"]]],["let","http_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","transports_off",["bytes.lit","http"]]],["let","streamable_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","http_off",["bytes.lit","streamable"]]],["let","sse_off",["std.mcp.toolkit.server_cfg_file._map_obj_off_v1","doc","streamable_off",["bytes.lit","sse"]]],["std.mcp.toolkit.server_cfg_file._map_i32_or_default_v1","doc","sse_off",["bytes.lit","max_connections"],0]],"kind":"defn","name":"std.mcp.toolkit.server_cfg_file.transport_http_sse_max_connections_v1","params":[{"name":"cfg_json","ty":"bytes_view"}],"result":"i32"},{"body":["begin",["let","doc_b",["std.mcp.toolkit.server_cfg_file._doc_b_or_empty_v1","cfg_json"]],["let","doc",["bytes.view","doc_b"]],["if",["=",["bytes.len","doc"],0],["return",["bytes.alloc",0]],0],["let","root",["ext.data_model.root_offset","doc"]],["std.mcp.toolkit.server_cfg_file._map_string_or_empty_v1","doc","root",["bytes.lit","worker_exe_path"]]],"kind":"defn","name":"std.mcp.toolkit.server_cfg_file.worker_exe_path_v1","params":[{"name":"cfg_json","ty":"bytes_view"}],"result":"bytes"}],"imports":["ext.data_model","ext.json.data_model","std.bytes","std.codec","std.fs","std.mcp.util.json","std.parse"],"kind":"module","module_id":"std.mcp.toolkit.server_cfg_file","schema_version":"x07.x07ast@0.5.0"}

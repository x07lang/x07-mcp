{"decls":[{"kind":"export","names":["std.mcp.obs.audit.emit_jsonl_v1"]},{"body":["begin",["let","out",["vec_u8.with_capacity",["+",["view.len","event_json"],1]]],["set","out",["vec_u8.extend_bytes","out","event_json"]],["set","out",["vec_u8.push","out",10]],["let","line",["vec_u8.into_bytes","out"]],["let","caps",["std.os.stdio.spec.caps_default_v1"]],["let","sink_stderr",["bytes.lit","stderr_jsonl"]],["if",["=",["view.eq","sink",["bytes.view","sink_stderr"]],1],["begin",["let","w",["std.os.stdio.write_stderr_v1","line","caps"]],["result_i32.err_code","w"]],["begin",["let","w",["std.os.stdio.write_stdout_v1","line","caps"]],["result_i32.err_code","w"]]]],"kind":"defn","name":"std.mcp.obs.audit.emit_jsonl_v1","params":[{"name":"sink","ty":"bytes_view"},{"name":"event_json","ty":"bytes_view"}],"result":"i32"}],"imports":["std.os.stdio","std.os.stdio.spec"],"kind":"module","module_id":"std.mcp.obs.audit","schema_version":"x07.x07ast@0.5.0"}

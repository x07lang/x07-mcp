{"decls":[{"kind":"export","names":["std.mcp.transport.stdio_loop.read_line_v1","std.mcp.transport.stdio_loop.write_stderr_bytes_v1","std.mcp.transport.stdio_loop.write_stdout_json_line_v1"]},{"body":["begin",["let","n",["view.len","b"]],["let","v",["vec_u8.with_capacity",["+","n",1]]],["set","v",["vec_u8.extend_bytes","v","b"]],["set","v",["vec_u8.push","v",10]],["vec_u8.into_bytes","v"]],"kind":"defn","name":"std.mcp.transport.stdio_loop._append_newline_v1","params":[{"name":"b","ty":"bytes_view"}],"result":"bytes"},{"body":["std.os.stdio.read_line_v1","caps"],"kind":"defn","name":"std.mcp.transport.stdio_loop.read_line_v1","params":[{"name":"caps","ty":"bytes"}],"result":"result_bytes"},{"body":["begin",["let","w",["std.os.stdio.write_stderr_v1","data","caps"]],["if",["!=",["result_i32.err_code","w"],0],["result_i32.err",["result_i32.err_code","w"]],["std.os.stdio.flush_stderr_v1"]]],"kind":"defn","name":"std.mcp.transport.stdio_loop.write_stderr_bytes_v1","params":[{"name":"data","ty":"bytes"},{"name":"caps","ty":"bytes"}],"result":"result_i32"},{"body":["begin",["let","out",["std.mcp.transport.stdio_loop._append_newline_v1","line_utf8"]],["let","w",["std.os.stdio.write_stdout_v1","out","caps"]],["if",["!=",["result_i32.err_code","w"],0],["result_i32.err",["result_i32.err_code","w"]],["std.os.stdio.flush_stdout_v1"]]],"kind":"defn","name":"std.mcp.transport.stdio_loop.write_stdout_json_line_v1","params":[{"name":"line_utf8","ty":"bytes_view"},{"name":"caps","ty":"bytes"}],"result":"result_i32"}],"imports":["std.bytes","std.os.stdio"],"kind":"module","module_id":"std.mcp.transport.stdio_loop","schema_version":"x07.x07ast@0.5.0"}

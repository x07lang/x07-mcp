{"decls":[{"kind":"export","names":["mcp.user.call_tool_v1"]},{"body":["begin",["let","t1",["bytes.lit","s3.list_buckets"]],["let","t2",["bytes.lit","s3.get_object"]],["let","diag_invalid_args",["std.mcp.diag.code_invalid_args_v1"]],["let","ok1",["bytes.lit","s3_list_buckets_ok"]],["let","ok2",["bytes.lit","s3_get_object_ok"]],["let","err_text",["bytes.lit","unknown tool"]],["let","err_detail",["bytes.lit","{}"]],["if",["=",["bytes.eq","tool_name",["bytes.view","t1"]],1],["return",["std.mcp.tool.result.ok_text_v1",["bytes.view","ok1"]]],0],["if",["=",["bytes.eq","tool_name",["bytes.view","t2"]],1],["return",["std.mcp.tool.result.ok_text_v1",["bytes.view","ok2"]]],0],["std.mcp.tool.result.err_v1",["bytes.view","diag_invalid_args"],["bytes.view","err_text"],["bytes.view","err_detail"]]],"kind":"defn","name":"mcp.user.call_tool_v1","params":[{"name":"tool_name","ty":"bytes_view"},{"name":"ctx_json","ty":"bytes_view"},{"name":"args_json","ty":"bytes_view"}],"result":"bytes"}],"imports":["std.mcp.diag","std.mcp.tool.result"],"kind":"module","module_id":"mcp.user","schema_version":"x07.x07ast@0.5.0"}

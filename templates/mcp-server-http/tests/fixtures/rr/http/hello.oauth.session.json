{
  "schema_version": "x07.mcp.rr.http_session@0.1.0",
  "id": "hello.oauth",
  "profile": "prod",
  "project_files": {
    "server": "config/mcp.server.oauth.json",
    "tools": "config/mcp.tools.json",
    "oauth": "config/mcp.oauth.json"
  },
  "base_url": "http://127.0.0.1:8314",
  "mcp_path": "/mcp",
  "steps": [
    {
      "name": "unauthorized_initialize_gets_401",
      "req": {
        "method": "POST",
        "path": "/mcp",
        "headers": {
          "Origin": "http://localhost:3000",
          "Accept": "application/json, text/event-stream",
          "Content-Type": "application/json",
          "MCP-Protocol-Version": "2025-11-25"
        },
        "body_json": {
          "jsonrpc": "2.0",
          "id": 10,
          "method": "initialize",
          "params": {
            "protocolVersion": "2025-11-25",
            "capabilities": {}
          }
        }
      },
      "res": {
        "status": 401,
        "headers": {
          "WWW-Authenticate": "Bearer resource_metadata=\"http://127.0.0.1:8314/.well-known/oauth-protected-resource\" scope=\"mcp:tools\""
        },
        "body_empty": true
      }
    },
    {
      "name": "prm_endpoint_returns_metadata",
      "req": {
        "method": "GET",
        "path": "/.well-known/oauth-protected-resource",
        "headers": {
          "Origin": "http://localhost:3000",
          "Accept": "application/json, text/event-stream"
        }
      },
      "res": {
        "status": 200,
        "headers": { "Content-Type": "application/json" }
      }
    }
  ]
}

{
  "schema_version": "x07.mcp.rr.http_session@0.1.0",
  "id": "hello.oauth.success",
  "profile": "prod",
  "project_files": {
    "server": "config/mcp.server.oauth.json",
    "tools": "config/mcp.tools.json",
    "oauth": "config/mcp.oauth.json"
  },
  "base_url": "http://127.0.0.1:8314",
  "mcp_path": "/mcp",
  "steps": [
    {
      "name": "initialize_with_scope_gets_session",
      "req": {
        "method": "POST",
        "path": "/mcp",
        "headers": {
          "Origin": "http://localhost:3000",
          "Accept": "application/json, text/event-stream",
          "Content-Type": "application/json",
          "MCP-Protocol-Version": "2025-11-25",
          "Authorization": "Bearer TOKEN_OK"
        },
        "body_json": {
          "jsonrpc": "2.0",
          "id": 11,
          "method": "initialize",
          "params": {
            "protocolVersion": "2025-11-25",
            "capabilities": {}
          }
        }
      },
      "res": {
        "status": 200,
        "headers": { "MCP-Session-Id": "sess_test_0001" }
      }
    },
    {
      "name": "token_with_scope_succeeds",
      "req": {
        "method": "POST",
        "path": "/mcp",
        "headers": {
          "Origin": "http://localhost:3000",
          "Accept": "application/json, text/event-stream",
          "Content-Type": "application/json",
          "MCP-Protocol-Version": "2025-11-25",
          "MCP-Session-Id": "sess_test_0001",
          "Authorization": "Bearer TOKEN_OK"
        },
        "body_json": {
          "jsonrpc": "2.0",
          "id": 13,
          "method": "tools/list",
          "params": {}
        }
      },
      "res": {
        "status": 200,
        "headers": {}
      }
    }
  ]
}
